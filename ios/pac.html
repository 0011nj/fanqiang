<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="zh-CN">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">
<title>PAC测试</title>

<meta name="description" content="PAC测试" />
<meta name="keywords" content="PAC测试" />
</head>
<body itemscope itemtype="http://schema.org/WebPage">
<script type='text/javascript'>

var servlist = ["PROXY 138.197.210.155:25;","PROXY 45.32.78.1:25;","PROXY 45.76.204.157:25;","PROXY 45.32.21.111:25;","PROXY 45.76.209.228:25;","PROXY 108.61.217.144:25;","PROXY 108.61.127.153:25;","PROXY 45.32.34.193:25;","PROXY 45.32.92.193:25;","PROXY 45.63.50.156:25;","PROXY 45.63.52.225:25;","PROXY 104.207.154.211:25;","PROXY 45.76.202.97:25;","PROXY 104.238.148.72:25;","PROXY 45.76.97.17:25;","PROXY 45.32.47.168:25;","PROXY 108.61.246.146:25;"]; 

function ip2int(ip_string) {
    var REG =/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;
    var result = REG.exec(ip_string); 
    if (result!=null) {
		var retValue=0;
        for (var i = 1; i <= 4; i++) {
            retValue+=parseInt(result[i]);

        }
        return retValue;
    }
    else{
    	//ipv6 or invalid ip
    	return 0;
    }
}

function FindProxyIP() {
	var myip=myIpAddress();
	var ipint=ip2int(myip);
	var ii = ipint % servlist.length;
	if(ii==servlist.length-1)
		var proxyRet=servlist[ii]+servlist[0];
	else
		var proxyRet=servlist[ii]+servlist[ii+1];
		
	document.writeln(proxyRet);
}

FindProxyIP();
</script>

</body>
</html>
